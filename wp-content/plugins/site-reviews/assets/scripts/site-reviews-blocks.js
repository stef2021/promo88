/*! For license information please see site-reviews-blocks.js.LICENSE.txt */
!function(){"use strict";var e={367:function(e,t,n){var r=n(424),i=60103,s=60106;var a=60109,o=60110,l=60112;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),s=d("react.portal"),d("react.fragment"),d("react.strict_mode"),d("react.profiler"),a=d("react.provider"),o=d("react.context"),l=d("react.forward_ref"),d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var v="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function g(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||m}function w(){}function h(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=g.prototype;var b=h.prototype=new w;b.constructor=h,r(b,g.prototype),b.isPureReactComponent=!0;var y={current:null},_=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!x.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:o,props:s,_owner:y.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return a=a(l=e),e=""===r?"."+O(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+O(o=e[u],u);l+=C(o,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=C(o=o.value,t,n,c=r+O(o,u++),a);else if("object"===o)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function I(){var e=A.current;if(null===e)throw Error(f(321));return e}t.createElement=j},294:function(e,t,n){e.exports=n(367)},424:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var a,o,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){o=t(a);for(var d=0;d<o.length;d++)r.call(a,o[d])&&(l[o[d]]=a[o[d]])}}return l}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}!function(){var e=n(294);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=wp.components.CheckboxControl,s=wp.element.useState,a=function(t,n,a){var o=[];return jQuery.each(t,(function(t,l){var u=r(s(!1),2),c=u[0],d=u[1],v=n.split(",").indexOf(t)>-1;o.push((0,e.createElement)(i,{key:"hide-".concat(t),className:"glsr-checkbox-control",checked:v||c,label:l,onChange:function(e){d(e),n=_.without(_.without(n.split(","),""),t),e&&n.push(t),a({hide:n.toString()})}}))})),o},o=(0,e.createElement)("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M11 2l-3 6-6 .75 4.13 4.62-1.13 6.63 6-3 6 3-1.12-6.63 4.12-4.62-6-.75-3-6zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15-4.68-2.34v-11.64zm8.28-.894v.963h-3.272v2.691h-1.017v-6.3h4.496v.963h-3.479v1.683h3.272z"})),l=(0,e.createElement)("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M11 2l-3 6-6 .75 4.13 4.62-1.13 6.63 6-3 6 3-1.12-6.63 4.12-4.62-6-.75-3-6zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15-4.68-2.34v-11.64zm3.681-3.54h2.592c1.449 0 2.232.648 2.232 1.823 0 1.071-.819 1.782-2.102 1.827l2.075 2.651h-1.26l-2.007-2.651h-.513v2.651h-1.017v-6.3zm2.565.954h-1.548v1.773h1.548c.819 0 1.202-.297 1.202-.905 0-.599-.405-.869-1.202-.869z"})),u=(0,e.createElement)("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M11 2l-3 6-6 .75 4.13 4.62-1.13 6.63 6-3 6 3-1.12-6.63 4.12-4.62-6-.75-3-6zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15-4.68-2.34v-11.64zm8.415-2.969l-.518.824c-.536-.342-1.13-.54-1.769-.54-.842 0-1.418.365-1.418.941 0 .522.491.725 1.31.842l.437.059c1.022.14 2.03.563 2.03 1.733 0 1.283-1.161 1.985-2.525 1.985-.855 0-1.881-.284-2.534-.846l.554-.81c.432.396 1.247.693 1.976.693.824 0 1.472-.351 1.472-.932 0-.495-.495-.725-1.418-.851l-.491-.068c-.936-.131-1.868-.572-1.868-1.742 0-1.265 1.121-1.967 2.484-1.967.918 0 1.643.257 2.277.68z"})),c=wp.i18n._x,d=[{label:"- "+c("Select","admin-text","site-reviews")+" -",value:""},{label:"- "+c("Select Multiple Post IDs","admin-text","site-reviews")+" -",value:"custom"},{label:c("Assign to the Current Page","admin-text","site-reviews"),value:"post_id"},{label:c("Assign to the Parent Page","admin-text","site-reviews"),value:"parent_id"}],v=wp.i18n._x,f=[],m={label:"- "+v("Select","admin-text","site-reviews")+" -",value:""},p={label:"- "+v("Select Multiple Categories","admin-text","site-reviews")+" -",value:"glsr_custom"};wp.apiFetch({path:"/site-reviews/v1/categories?per_page=50"}).then((function(e){f.push(m),f.push(p),jQuery.each(e,(function(e,t){f.push({label:"".concat(t.name," (").concat(t.slug,")"),value:t.id})}))}));var g=f,w=function(e,t,n){GLSR.Event.trigger(t,e,n)};function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=wp.i18n._x,y=[],x={label:"- "+b("Select","admin-text","site-reviews")+" -",value:""},j={label:"- "+b("Select Multiple Users","admin-text","site-reviews")+" -",value:"glsr_custom"};wp.apiFetch({path:"/wp/v2/users?per_page=50"}).then((function(e){y.push(x),y.push(j),jQuery.each(e,(function(e,t){y.push({label:t.name+" ("+t.slug+")",value:t.id})}))}));var k=y;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.raw);return n.hide&&(n.hide=n.hide.join()),n.rating&&(n.rating=Number(n.rating)),~["","post_id","parent_id"].indexOf(n.assigned_posts)?t.assign_to?n.assign_to=n.assigned_posts:n.assigned_to=n.assigned_posts:t.assign_to?n.assign_to="custom":n.assigned_to="custom",n.user=n.assigned_users,~_.findIndex(k,(function(e){return e.value==n.assigned_users}))||(n.user="glsr_custom"),n.category=n.assigned_terms,~_.findIndex(g,(function(e){return e.value==n.assigned_terms}))||(n.category="glsr_custom"),n};function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var L=["children","custom_value","help","label","onChange","options","className","hideLabelFromVision","selectedValue"],A=(wp.i18n._x,wp.components),I=A.BaseControl,B=(A.TextControl,lodash.isEmpty),E=wp.compose.useInstanceId;function N(t){var n=t.children,r=t.custom_value,i=void 0===r?"custom":r,s=t.help,a=t.label,o=t.onChange,l=t.options,u=void 0===l?[]:l,c=t.className,d=t.hideLabelFromVision,v=(t.selectedValue,R(t,L)),f=E(N),m="inspector-select-control-".concat(f),p=v.value;return!B(u)&&(0,e.createElement)(I,{label:a,hideLabelFromVision:d,id:m,help:s,className:c},(0,e.createElement)("select",C({id:m,className:"components-select-control__input",onChange:function(e){o(e.target.value)},"aria-describedby":s?"".concat(m,"__help"):void 0},v),u.map((function(t,n){return(0,e.createElement)("option",{key:"".concat(t.label,"-").concat(t.value,"-").concat(n),value:t.value,disabled:t.disabled},t.label)}))),i===p&&n)}var G=wp.element,D=G.useRef,P=G.useState,M=G.useEffect;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=lodash,$=U.debounce,Q=U.isEqual,q=U.reduce,F=wp.compose.usePrevious,V=wp.element,H=V.RawHTML,J=V.useEffect,K=V.useRef,W=V.useState,X=wp.i18n,Y=X.__,Z=X.sprintf,ee=wp.apiFetch,te=wp.url.addQueryArgs,ne=wp.components,re=ne.Placeholder,ie=ne.Spinner,se=wp.blocks.getBlockType;function ae(e,t,n){var r,i,s,a,o,l,u=(r=function(){return $(e,t,n)},i=[e,t,n],s=P((function(){return{inputs:i,result:r()}}))[0],a=D(!0),o=D(s),l=a.current||Boolean(i&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(i,o.current.inputs))?o.current:{inputs:i,result:r()},M((function(){a.current=!1,o.current=l}),[l]),l.result);return J((function(){return function(){return u.cancel()}}),[u]),u}function oe(t){var n=t.className;return(0,e.createElement)(re,{className:n},Y("Block rendered as empty."))}function le(t){var n=t.response,r=t.className,i=Z(Y("Error loading block: %s"),n.errorMsg);return(0,e.createElement)(re,{className:r},i)}function ue(t){var n=t.className;return(0,e.createElement)(re,{className:n},(0,e.createElement)(ie,null))}function ce(t){var n=t.attributes,i=t.block,s=t.className,a=t.httpMethod,o=void 0===a?"GET":a,l=t.urlQueryArgs,u=t.EmptyResponsePlaceholder,c=void 0===u?oe:u,d=t.ErrorResponsePlaceholder,v=void 0===d?le:d,f=t.LoadingResponsePlaceholder,m=void 0===f?ue:f,p=K(!0),g=K(),w=r(W(null),2),h=w[0],b=w[1],y=F(t);function _(){var e;if(p.current){null!==h&&b(null);var t=null!==(e=n&&function(e,t){var n=se(e);if(void 0===n)throw new Error("Block type '".concat(e,"' is not registered."));return q(n.attributes,(function(e,n,r){var i=t[r];return void 0!==i?e[r]=i:n.hasOwnProperty("default")&&(e[r]=n.default),-1!==["node","children"].indexOf(n.source)&&("string"==typeof e[r]?e[r]=[e[r]]:Array.isArray(e[r])||(e[r]=[])),e}),{})}(i,n))&&void 0!==e?e:null,r="POST"===o,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te("/wp/v2/block-renderer/".concat(e),z(z({context:"edit"},null!==t?{attributes:t}:{}),n))}(i,r?null:t,l),a=r?{attributes:t}:null,u=g.current=ee({path:s,data:a,method:r?"POST":"GET"}).then((function(e){p.current&&u===g.current&&e&&b(e.rendered)})).catch((function(e){p.current&&u===g.current&&b({error:!0,errorMsg:e.message})}));return u}}var x=ae(_,500);return J((function(){return function(){p.current=!1}}),[]),J((function(){void 0===y?_():Q(y,t)||x()})),J((function(){t.onRender&&t.onRender(h,i,n)}),[h]),""===h?(0,e.createElement)(c,t):h?h.error?(0,e.createElement)(v,C({response:h},t)):(0,e.createElement)(H,{className:s},h):(0,e.createElement)(m,t)}var de=wp.i18n._x,ve=wp.blocks,fe=ve.createBlock,me=ve.registerBlockType,pe=wp.blockEditor,ge=pe.InspectorAdvancedControls,we=pe.InspectorControls,he=wp.components,be=he.PanelBody,ye=(he.SelectControl,he.TextControl),_e=GLSR_Block.nameprefix+"/form",xe={assign_to:{default:"",type:"string"},assigned_posts:{default:"",type:"string"},assigned_terms:{default:"",type:"string"},assigned_users:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},hide:{default:"",type:"string"},id:{default:"",type:"string"},user:{default:"",type:"string"}},je=(me(_e,{attributes:xe,category:GLSR_Block.nameprefix,description:de("Display a review form.","admin-text","site-reviews"),edit:function(t){var n=t.attributes,r=n.assign_to,i=n.assigned_posts,s=n.assigned_terms,o=n.assigned_users,l=n.category,u=n.hide,c=n.id,v=n.user,f=(t.className,t.setAttributes),m={assign_to:(0,e.createElement)(N,{key:"assigned_posts",label:de("Assign Reviews to a Page","admin-text","site-reviews"),onChange:function(e){return f({assign_to:e,assigned_posts:"custom"===e?i:""})},options:d,value:r},(0,e.createElement)(ye,{className:"glsr-base-conditional-control",help:de("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return f({assigned_posts:e})},placeholder:de("Enter the Post IDs","admin-text","site-reviews"),type:"text",value:i})),category:(0,e.createElement)(N,{key:"assigned_terms",custom_value:"glsr_custom",label:de("Assign Reviews to a Category","admin-text","site-reviews"),onChange:function(e){return f({category:e,assigned_terms:"glsr_custom"===e?s:""})},options:g,value:l},(0,e.createElement)(ye,{className:"glsr-base-conditional-control",help:de("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return f({assigned_terms:e})},placeholder:de("Enter the Category IDs or slugs","admin-text","site-reviews"),type:"text",value:s})),user:(0,e.createElement)(N,{key:"assigned_users",custom_value:"glsr_custom",label:de("Assign Reviews to a User","admin-text","site-reviews"),onChange:function(e){return f({user:e,assigned_users:"glsr_custom"===e?o:""})},options:k,value:v},(0,e.createElement)(ye,{className:"glsr-base-conditional-control",help:de("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return f({assigned_users:e})},placeholder:de("Enter the User IDs or usernames","admin-text","site-reviews"),type:"text",value:o})),hide:a(GLSR_Block.hideoptions.site_reviews_form,u,f)},p={id:(0,e.createElement)(ye,{label:de("Custom ID","admin-text","site-reviews"),onChange:function(e){return f({id:e})},value:c})};return[(0,e.createElement)(we,null,(0,e.createElement)(be,{title:de("Settings","admin-text","site-reviews")},Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".form.InspectorControls",m,t)))),(0,e.createElement)(ge,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".form.InspectorAdvancedControls",p,t))),(0,e.createElement)(ce,{block:_e,attributes:t.attributes,onRender:w})]},example:{},icon:{src:o},keywords:["reviews","form"],save:function(){return null},title:de("Submit a Review","admin-text","site-reviews"),transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:function(e){var t=e.idBase,n=e.instance;return"glsr_site-reviews-form"===t&&!(null==n||!n.raw)},transform:function(e){var t=e.instance;return fe(_e,O(t,xe))}}]}}),wp.i18n._x),ke=[{label:"- "+je("Select","admin-text","site-reviews")+" -",value:""},{label:"- "+je("Select Multiple Post IDs","admin-text","site-reviews")+" -",value:"custom"},{label:je("Assigned to the Current Page","admin-text","site-reviews"),value:"post_id"},{label:je("Assigned to the Parent Page","admin-text","site-reviews"),value:"parent_id"}],Se=wp.i18n._x,Oe=[{label:"- "+Se("Select","admin-text","site-reviews")+" -",value:""},{label:Se("Terms were accepted","admin-text","site-reviews"),value:"true"},{label:Se("Terms were not accepted","admin-text","site-reviews"),value:"false"}],Ce={label:"- "+(0,wp.i18n._x)("Select","admin-text","site-reviews")+" -",value:""},Re=[];wp.apiFetch({path:"/site-reviews/v1/types?per_page=50"}).then((function(e){e.length<2||(Re.push(Ce),jQuery.each(e,(function(e,t){Re.push({label:t.name,value:t.id})})))}));var Le=Re,Ae=wp.i18n._x,Ie=wp.blocks,Be=Ie.createBlock,Ee=Ie.registerBlockType,Ne=wp.blockEditor,Ge=Ne.InspectorAdvancedControls,De=Ne.InspectorControls,Pe=wp.components,Me=Pe.PanelBody,Te=Pe.RangeControl,ze=Pe.SelectControl,Ue=Pe.TextControl,$e=Pe.ToggleControl,Qe=GLSR_Block.nameprefix+"/reviews",qe={assigned_to:{default:"",type:"string"},assigned_posts:{default:"",type:"string"},assigned_terms:{default:"",type:"string"},assigned_users:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},display:{default:5,type:"number"},hide:{default:"",type:"string"},id:{default:"",type:"string"},pagination:{default:"",type:"string"},post_id:{default:"",type:"string"},rating:{default:0,type:"number"},schema:{default:!1,type:"boolean"},terms:{default:"",type:"string"},type:{default:"local",type:"string"},user:{default:"",type:"string"}};wp.hooks.addFilter("blocks.getBlockAttributes",Qe,(function(e,t,n,r){return r&&r.count&&(e.display=r.count),e}));Ee(Qe,{attributes:qe,category:GLSR_Block.nameprefix,description:Ae("Display your most recent reviews.","admin-text","site-reviews"),edit:function(t){t.attributes.post_id=jQuery("#post_ID").val();var n=t.attributes,r=n.assigned_to,i=n.assigned_posts,s=n.assigned_terms,o=n.assigned_users,l=n.category,u=n.display,c=n.hide,d=n.id,v=n.pagination,f=n.rating,m=n.schema,p=n.terms,h=n.type,b=n.user,y=(t.className,t.setAttributes),_={assigned_to:(0,e.createElement)(N,{key:"assigned_posts",label:Ae("Limit Reviews to an Assigned Page","admin-text","site-reviews"),onChange:function(e){return y({assigned_to:e,assigned_posts:"custom"===e?i:""})},options:ke,value:r},(0,e.createElement)(Ue,{className:"glsr-base-conditional-control",help:Ae("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return y({assigned_posts:e})},placeholder:Ae("Enter the Post IDs","admin-text","site-reviews"),type:"text",value:i})),category:(0,e.createElement)(N,{key:"assigned_terms",custom_value:"glsr_custom",label:Ae("Limit Reviews to an Assigned Category","admin-text","site-reviews"),onChange:function(e){return y({category:e,assigned_terms:"glsr_custom"===e?s:""})},options:g,value:l},(0,e.createElement)(Ue,{className:"glsr-base-conditional-control",help:Ae("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return y({assigned_terms:e})},placeholder:Ae("Enter the Category IDs or slugs","admin-text","site-reviews"),type:"text",value:s})),user:(0,e.createElement)(N,{key:"assigned_users",custom_value:"glsr_custom",label:Ae("Limit Reviews to an Assigned User","admin-text","site-reviews"),onChange:function(e){return y({user:e,assigned_users:"glsr_custom"===e?o:""})},options:k,value:b},(0,e.createElement)(Ue,{className:"glsr-base-conditional-control",help:Ae("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return y({assigned_users:e})},placeholder:Ae("Enter the User IDs or usernames","admin-text","site-reviews"),type:"text",value:o})),terms:(0,e.createElement)(ze,{key:"terms",label:Ae("Limit Reviews to terms","admin-text","site-reviews"),onChange:function(e){return y({terms:e})},options:Oe,value:p}),pagination:(0,e.createElement)(ze,{key:"pagination",label:Ae("Enable Pagination","admin-text","site-reviews"),onChange:function(e){return y({pagination:e})},options:[{label:"- "+Ae("Select","admin-text","site-reviews")+" -",value:""},{label:Ae("Enabled","admin-text","site-reviews"),value:"true"},{label:Ae("Enabled (using ajax)","admin-text","site-reviews"),value:"ajax"}],value:v}),type:(0,e.createElement)(ze,{key:"type",label:Ae("Limit the Type of Reviews","admin-text","site-reviews"),onChange:function(e){return y({type:e})},options:Le,value:h}),display:(0,e.createElement)(Te,{key:"display",label:Ae("Reviews Per Page","admin-text","site-reviews"),min:1,max:50,onChange:function(e){return y({display:e})},value:u}),rating:(0,e.createElement)(Te,{key:"rating",label:Ae("Minimum Rating","admin-text","site-reviews"),min:0,max:GLSR_Block.maxrating,onChange:function(e){return y({rating:e})},value:f}),schema:(0,e.createElement)($e,{key:"schema",checked:m,help:Ae("The schema should only be enabled once per page.","admin-text","site-reviews"),label:Ae("Enable the schema?","admin-text","site-reviews"),onChange:function(e){return y({schema:e})}}),hide:a(GLSR_Block.hideoptions.site_reviews,c,y)},x={id:(0,e.createElement)(Ue,{label:Ae("Custom ID","admin-text","site-reviews"),onChange:function(e){return y({id:e})},value:d})};return[(0,e.createElement)(De,null,(0,e.createElement)(Me,{title:Ae("Settings","admin-text","site-reviews")},Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".reviews.InspectorControls",_,t)))),(0,e.createElement)(Ge,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".reviews.InspectorAdvancedControls",x,t))),(0,e.createElement)(ce,{block:Qe,attributes:t.attributes,onRender:w})]},example:{attributes:{display:2,pagination:"ajax",rating:0}},icon:{src:l},keywords:["reviews"],save:function(){return null},title:Ae("Latest Reviews","admin-text","site-reviews"),transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:function(e){var t=e.idBase,n=e.instance;return"glsr_site-reviews"===t&&!(null==n||!n.raw)},transform:function(e){var t=e.instance;return Be(Qe,O(t,qe))}}]}});var Fe=wp.i18n._x,Ve=wp.blocks,He=Ve.createBlock,Je=Ve.registerBlockType,Ke=wp.blockEditor,We=Ke.InspectorAdvancedControls,Xe=Ke.InspectorControls,Ye=wp.components,Ze=Ye.PanelBody,et=Ye.RangeControl,tt=Ye.SelectControl,nt=Ye.TextControl,rt=Ye.ToggleControl,it=GLSR_Block.nameprefix+"/summary",st={assigned_to:{default:"",type:"string"},assigned_posts:{default:"",type:"string"},assigned_terms:{default:"",type:"string"},assigned_users:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},hide:{default:"",type:"string"},post_id:{default:"",type:"string"},rating:{default:0,type:"number"},schema:{default:!1,type:"boolean"},terms:{default:"",type:"string"},type:{default:"local",type:"string"},user:{default:"",type:"string"}};Je(it,{attributes:st,category:GLSR_Block.nameprefix,description:Fe("Display a summary of your reviews.","admin-text","site-reviews"),edit:function(t){t.attributes.post_id=jQuery("#post_ID").val();var n=t.attributes,r=n.assigned_to,i=n.assigned_posts,s=n.assigned_terms,o=n.assigned_users,l=n.category,u=(n.display,n.hide),c=(n.id,n.pagination,n.rating),d=n.schema,v=n.terms,f=n.type,m=n.user,p=(t.className,t.setAttributes),h={assigned_to:(0,e.createElement)(N,{key:"assigned_posts",label:Fe("Limit Reviews to an Assigned Page","admin-text","site-reviews"),onChange:function(e){return p({assigned_to:e,assigned_posts:"custom"===e?i:""})},options:ke,value:r},(0,e.createElement)(nt,{className:"glsr-base-conditional-control",help:Fe("Separate multiple IDs with commas.","admin-text","site-reviews"),onChange:function(e){return p({assigned_posts:e})},placeholder:Fe("Enter the Post IDs","admin-text","site-reviews"),type:"text",value:i})),category:(0,e.createElement)(N,{key:"assigned_terms",custom_value:"glsr_custom",label:Fe("Limit Reviews to an Assigned Category","admin-text","site-reviews"),onChange:function(e){return p({category:e,assigned_terms:"glsr_custom"===e?s:""})},options:g,value:l},(0,e.createElement)(nt,{className:"glsr-base-conditional-control",help:Fe("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return p({assigned_terms:e})},placeholder:Fe("Enter the Category IDs or slugs","admin-text","site-reviews"),type:"text",value:s})),user:(0,e.createElement)(N,{key:"assigned_users",custom_value:"glsr_custom",label:Fe("Limit Reviews to an Assigned User","admin-text","site-reviews"),onChange:function(e){return p({user:e,assigned_users:"glsr_custom"===e?o:""})},options:k,value:m},(0,e.createElement)(nt,{className:"glsr-base-conditional-control",help:Fe("Separate with commas.","admin-text","site-reviews"),onChange:function(e){return p({assigned_users:e})},placeholder:Fe("Enter the User IDs or usernames","admin-text","site-reviews"),type:"text",value:o})),terms:(0,e.createElement)(tt,{key:"terms",label:Fe("Limit Reviews to terms","admin-text","site-reviews"),onChange:function(e){return p({terms:e})},options:Oe,value:v}),type:(0,e.createElement)(tt,{key:"type",label:Fe("Limit the Type of Reviews","admin-text","site-reviews"),onChange:function(e){return p({type:e})},options:Le,value:f}),rating:(0,e.createElement)(et,{key:"rating",label:Fe("Minimum Rating","admin-text","site-reviews"),min:0,max:GLSR_Block.maxrating,onChange:function(e){return p({rating:e})},value:c}),schema:(0,e.createElement)(rt,{key:"schema",checked:d,help:Fe("The schema should only be enabled once per page.","admin-text","site-reviews"),label:Fe("Enable the schema?","admin-text","site-reviews"),onChange:function(e){return p({schema:e})}}),hide:a(GLSR_Block.hideoptions.site_reviews_summary,u,p)};return[(0,e.createElement)(Xe,null,(0,e.createElement)(Ze,{title:Fe("Settings","admin-text","site-reviews")},Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".summary.InspectorControls",h,t)))),(0,e.createElement)(We,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".summary.InspectorAdvancedControls",{},t))),(0,e.createElement)(ce,{block:it,attributes:t.attributes,onRender:w})]},example:{},icon:{src:u},keywords:["reviews","summary"],save:function(){return null},title:Fe("Rating Summary","admin-text","site-reviews"),transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:function(e){var t=e.idBase,n=e.instance;return"glsr_site-reviews-summary"===t&&!(null==n||!n.raw)},transform:function(e){var t=e.instance;return He(it,O(t,st))}}]}})}()}();